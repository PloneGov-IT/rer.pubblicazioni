{
  "version": 3,
  "sources": [
    "static/rerpubblicazioni.js"
  ],
  "names": [],
  "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "rerpubblicazionibundle.js",
  "sourcesContent": [
    "require([\n  'jquery',\n], function($){\n  'use strict';\n\n    function setup_rer_pubblicazioni_search_form(){\n        $(document).on('click', '.search-pubblicazioni input[type=submit]', function (e) {\n            e.preventDefault();\n            var $form = $(e.target).parents('form');\n            var searchable = $form.find('[name=SearchableText]').val();\n            var author = $form.find('[name=authors\\\\:list]').val();\n            var ptype = $form.find('[name=publication_types\\\\:list]').val();\n            var plang = $form.find('[name=publication_language\\\\:list]').val();\n            var pstart = $form.find('[name=start]').val();\n            var pend = $form.find('[name=end]').val();\n            var path = $form.find('[name=path]').val()\n\n            var querystring = '?portal_type=Pubblicazione'\n            if (searchable){\n                querystring = querystring + '&SearchableText=' + escape(searchable);\n            }\n            if (author !== '--NOVALUE--'){\n                querystring = querystring + '&authors=' + escape(author);\n            }\n            if (ptype !== '--NOVALUE--'){\n                querystring = querystring + '&publication_types=' + escape(ptype);\n            }\n            if (plang !== '--NOVALUE--'){\n                querystring = querystring + '&publication_language=' + escape(plang);\n            }\n            if (pstart && !pend){\n                querystring = querystring + '&publication_date.query:record:list:date=' + pstart + '&publication_date.range:record=min';\n            }\n            if (pend && !pstart){\n                querystring = querystring + '&publication_date.query:record:list:date=' + pend + '&publication_date.range:record=max';\n            }\n            if (path.length !== 0){\n                querystring = querystring + '&path=' + path;\n            }\n            $form.find('.error-message').remove();\n            if (pstart && pend){\n                var start = new Date(pstart.split('-'));\n                var end = new Date(pend.split('-'));\n                if (end < start){\n                    var errormessage = $('.dates').data('error-message');\n                    var $pmessage = $('<p class=\"error-message\" style=\"color:red\">' + errormessage + '</p>');\n                    $form.find('.dates').after($pmessage);\n                    return\n                }\n                querystring = querystring + '&publication_date.query:record:list:date=' + pstart + '&publication_date.query:record:list:date=' + pend + '&publication_date.range:record=min:max';\n            }\n            var to_url = $('link[rel=search]').attr('href') + querystring;\n            console.log(to_url);\n            window.location.href = to_url;\n        });\n    };\n\n    // $(document).on('rtTilesLoaded', '.pat-tiles-management .tilesList .search-pubblicazioni', function(e) {\n    //     debugger;\n    //     $('#form-widgets-publicationAuthor').select2();\n    //     $('#form-widgets-publicationTypes').select2();\n    //     $('#form-widgets-publicationLanguage').select2();\n    // });\n    $(document).ready(function(){\n        setup_rer_pubblicazioni_search_form();\n    });\n});\n\ndefine(\"static/rerpubblicazioni.js\", function(){});\n\n"
  ]
}